<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025é»„è±†è±†å†¬å¥¥ä¼šç¾½æ¯›çƒåˆ†ä¼šåœº ğŸ†</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            padding: 20px;
            background-color: #f4f7f6;
            color: #333;
        }
        .container {
            max-width: 1400px;
            margin: auto;
            background: #fff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        h2 {
            text-align: center;
            color: #007bff;
            border-bottom: 2px solid #ffc107;
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 2em;
        }
        h3 {
            color: #28a745;
            margin-top: 30px;
            border-left: 5px solid #28a745;
            padding-left: 10px;
        }
        
        /* æ ¸å¿ƒåˆ†æ å¸ƒå±€ */
        .main-content {
            display: flex;
            gap: 20px;
            margin-top: 20px;
        }
        .input-area {
            flex: 0 0 300px;
        }
        .output-area {
            flex: 1;
            display: flex;
            gap: 20px;
        }
        .column {
            flex: 1;
            min-width: 300px;
        }
        /* --------------------- */
        
        .input-group, .controls, .saved-participants-group {
            margin-bottom: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        .controls button {
            width: 100%;
            padding: 10px 0;
            font-size: 16px;
            margin-bottom: 10px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        #draw-btn {
            background-color: #007bff;
            color: white;
        }
        #draw-btn:hover { background-color: #0056b3; }
        #fixture-btn {
            background-color: #28a745;
            color: white;
        }
        #fixture-btn:hover { background-color: #1e7e34; }
        .participant-row {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 10px;
            padding: 5px 0;
            border-bottom: 1px dashed #eee;
            flex-wrap: wrap;
        }
        .participant-row input[type="text"], .participant-row select {
            padding: 5px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        .participant-row .name-input { width: 100px; }
        .participant-row .gender-select { width: 60px; }
        .participant-row button {
            background-color: #dc3545;
            color: white;
            border: none;
            padding: 5px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8em;
        }
        .participant-row button:hover { background-color: #c82333; }
        .add-btn {
            background-color: #ffc107;
            color: #333;
            padding: 8px 15px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
            width: 100%;
        }
        .add-btn:hover { background-color: #e0a800; }

        /* æ–°å¢ï¼šé¢„è®¾é€‰æ‰‹åˆ—è¡¨æ ·å¼ */
        .saved-participant-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            border-bottom: 1px dashed #ccc;
        }
        .saved-participant-item:last-child {
            border-bottom: none;
        }
        .saved-participant-item button {
            font-size: 0.8em;
            padding: 4px 8px;
            margin-left: 5px;
            cursor: pointer;
        }
        .saved-participant-info {
            flex-grow: 1;
        }
        #add-saved-btn {
            background-color: #5cb85c; /* ç»¿è‰²æŒ‰é’® */
            color: white;
        }
        #add-saved-btn:hover {
            background-color: #449d44;
        }
        #delete-saved-btn {
            background-color: #f0ad4e; /* è­¦å‘Šè‰²æŒ‰é’® */
            color: white;
        }
        #delete-saved-btn:hover {
            background-color: #ec971f;
        }
    </style>
</head>
<body>

<div class="container">
    <h2>2025é»„è±†è±†å†¬å¥¥ä¼šç¾½æ¯›çƒåˆ†ä¼šåœº ğŸ†</h2>
    
    <div class="main-content">
        <div class="input-area">
            
            <div class="input-group">
                <h3>ğŸ“ å‚èµ›é€‰æ‰‹ä¿¡æ¯è¾“å…¥</h3>
                <div id="participants-list">
                    </div>
                <button class="add-btn" onclick="addParticipant()">+ æ·»åŠ æ–°å‚èµ›é€‰æ‰‹</button>
            </div>
            
            <div class="saved-participants-group">
                <h3>ğŸ’¾ å·²ä¿å­˜é€‰æ‰‹é¢„è®¾</h3>
                <div id="saved-participants-list">
                    <p style="color: #6c757d; font-size: 0.9em; text-align: center;">åŠ è½½ä¸­...</p>
                </div>
            </div>

        </div>
        
        <div class="output-area">
            
            <div class="column">
                <div class="controls">
                    <button id="draw-btn" onclick="drawTeams()">éšæœºåˆ†ç»„</button>
                </div>
                <div class="result-section">
                    <h3>ğŸ… é˜Ÿä¼åˆ†é…ç»“æœ</h3>
                    <p id="draw-status" style="color: red;"></p>
                    <div id="team-results">
                        <p style="color: #6c757d;">è¯·åœ¨å·¦ä¾§è¾“å…¥å‚èµ›é€‰æ‰‹ä¿¡æ¯åï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®è¿›è¡Œéšæœºåˆ†ç»„ã€‚</p>
                    </div>
                </div>
            </div>

            <div class="column">
                <div class="controls">
                    <button id="fixture-btn" onclick="generateFixtures()">âš”ï¸ éšæœºç”Ÿæˆæ¯”èµ›é¡ºåº</button>
                </div>
                <div class="result-section">
                    <h3>ğŸ—“ï¸ æ¯”èµ›é¡ºåº (éšæœºå¯¹é˜µ)</h3>
                    <p id="fixture-status" style="color: red;"></p>
                    <div id="fixture-results">
                        <p style="color: #6c757d;">é˜Ÿä¼éšæœºåˆ†ç»„å®Œæˆåï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ç”Ÿæˆæ¯”èµ›é¡ºåºã€‚</p>
                    </div>
                </div>
            </div>
        </div>
        
    </div>
</div>

<script>
    // --- é…ç½®æ•°æ® ---
    const TEAM_NAMES = [
        "å®‡å®™æ— æ•Œéœ¹é›³å°ç»„", "ç§ƒå¤´ä¹Ÿå‘å…‰é˜Ÿ", "èœé¸Ÿäº’å•„ç²¾è‹±é˜Ÿ", "å…¨åœºæœ€ä½³æ°”æ°›ç»„",
        "æ‹–åè…¿ä¹Ÿèƒ½èµ¢é˜Ÿ", "ç¥çº§èººèµ¢å¤©å›¢", "ä¸€æ‹å…¥é­‚æš´èºç»„", "è¢«ç¾½æ¯›çƒæ”¯é…é˜Ÿ",
        "ä½›ç³»å…»ç”Ÿçƒå‹é˜Ÿ", "æ‰£æ€å…¨é å¼é˜Ÿ", "ä¸€ç±³äº”æ‰£æ€é˜Ÿ", "å‘çƒå‡ºç•Œè‰ºæœ¯å›¢", 
        "é»‘æ´å¸çƒå¤§å¸ˆ", "äº”èŠ±å…«é—¨éšä¾¿æ‰“é˜Ÿ", "èººå¹³ä½†èƒ½èµ¢é˜Ÿ", "äººé—´æ¸…é†’åˆ’æ°´é˜Ÿ", 
        "ç¾½æ—èŒä¸»é©¾åˆ°", "åäººç±»ååº”é€Ÿåº¦é˜Ÿ", "çƒåœºè€å…­è”ç›Ÿ", "éç‰©è´¨æ–‡åŒ–é—äº§é˜Ÿ", 
        "å¹²é¥­äººå¹²çƒé˜Ÿ", "å¤•é˜³çº¢æ…¢æ‘‡é˜Ÿ", "å‘é™…çº¿å±æœºç»„", "çˆ±ä¸å’Œå¹³åˆ’æ°´é˜Ÿ",
        "éšæœºåº”å˜æ‚ç‰Œå†›", "ä¸€é¸£æƒŠäººé»‘é©¬é˜Ÿ", "æ·±è—ä¸éœ²åˆ’æ°´å…š", "æ™ºå•†é«˜åœ°çƒæŠ€ç›†åœ°é˜Ÿ", 
        "åªè´Ÿè´£å¸…ä¸è´Ÿè´£èµ¢é˜Ÿ", "é é¢œå€¼å–èƒœé˜Ÿ", "æˆ˜æœ¯å…¨é è’™é˜Ÿ", "å–æ°´ä¼‘æ¯ä¸“ä¸šæˆ·",
        "å¬è§é£å£°å°±èº²é˜Ÿ", "æ‹’ç»è·‘åŠ¨è”ç›Ÿ", "å…¨å‘˜é»‘çœ¼åœˆé˜Ÿ", "é€€å½¹ç”µç«é€‰æ‰‹é˜Ÿ",
        "å¯¹å®¶å¤±è¯¯æ˜¯å”¯ä¸€èµ¢é¢é˜Ÿ", "æ‹å­éƒ½æ˜¯å€Ÿçš„é˜Ÿ", "ä¸»æ‰“ä¸€ä¸ªé™ªä¼´é˜Ÿ", "è°çˆ±èµ¢è°èµ¢é˜Ÿ"
    ];

    const FORMAT_NAMES = {
        'MD': 'ç”·åŒ',
        'WD': 'å¥³åŒ',
        'XD': 'æ··åŒ'
    };

    let participantIdCounter = 1; // IDä»1å¼€å§‹ï¼Œæ–¹ä¾¿ç®¡ç†
    let allTeams = {};

    // --- æœ¬åœ°å­˜å‚¨æ“ä½œå‡½æ•° ---

    function getSavedParticipants() {
        try {
            const saved = localStorage.getItem('savedParticipants');
            return saved ? JSON.parse(saved) : [];
        } catch (e) {
            console.error("æ— æ³•è¯»å–æœ¬åœ°å­˜å‚¨ï¼š", e);
            return [];
        }
    }

    function saveParticipantsToStorage(participants) {
        try {
            localStorage.setItem('savedParticipants', JSON.stringify(participants));
        } catch (e) {
            console.error("æ— æ³•å†™å…¥æœ¬åœ°å­˜å‚¨ï¼š", e);
        }
    }
    
    // --- é¢„è®¾é€‰æ‰‹ç®¡ç† ---

    function loadSavedParticipantsUI() {
        const savedParticipants = getSavedParticipants();
        const listEl = document.getElementById('saved-participants-list');
        listEl.innerHTML = '';

        if (savedParticipants.length === 0) {
            listEl.innerHTML = '<p style="color: #6c757d; font-size: 0.9em; text-align: center;">æš‚æ— ä¿å­˜çš„é€‰æ‰‹ã€‚</p>';
            return;
        }

        savedParticipants.forEach(p => {
            const item = document.createElement('div');
            item.className = 'saved-participant-item';
            const genderText = p.gender === 'male' ? 'ç”·' : 'å¥³';
            
            item.innerHTML = `
                <div class="saved-participant-info">${p.name} (${genderText})</div>
                <div>
                    <button id="add-saved-btn" onclick="addParticipantFromPreset('${p.name}', '${p.gender}')">æ·»åŠ </button>
                    <button id="delete-saved-btn" onclick="deleteSavedParticipant('${p.name}')">åˆ é™¤</button>
                </div>
            `;
            listEl.appendChild(item);
        });
    }

    function saveParticipant(name, gender) {
        if (!name) return;
        const savedParticipants = getSavedParticipants();
        
        // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨åŒåé€‰æ‰‹
        const exists = savedParticipants.some(p => p.name === name);
        if (exists) return; // å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¸é‡å¤ä¿å­˜

        savedParticipants.push({ name, gender });
        saveParticipantsToStorage(savedParticipants);
        loadSavedParticipantsUI(); // åˆ·æ–°é¢„è®¾åˆ—è¡¨
    }

    function deleteSavedParticipant(nameToDelete) {
        if (!confirm(`ç¡®å®šè¦åˆ é™¤é¢„è®¾é€‰æ‰‹ "${nameToDelete}" å—ï¼Ÿ`)) return;
        
        let savedParticipants = getSavedParticipants();
        savedParticipants = savedParticipants.filter(p => p.name !== nameToDelete);
        saveParticipantsToStorage(savedParticipants);
        loadSavedParticipantsUI(); // åˆ·æ–°é¢„è®¾åˆ—è¡¨
    }

    // --- å‚èµ›é€‰æ‰‹åˆ—è¡¨ç®¡ç† ---

    function getParticipantsData() {
        const participants = [];
        const rows = document.querySelectorAll('.participant-row');
        rows.forEach(row => {
            const name = row.querySelector('.name-input').value.trim();
            const gender = row.querySelector('.gender-select').value;
            
            // 2. é»˜è®¤èµ›åˆ¶è§„åˆ™ (ä¿æŒä¸å˜)
            const formats = [];
            if (gender === 'male') {
                formats.push('MD', 'XD');
            } else if (gender === 'female') {
                formats.push('WD', 'XD');
            }

            if (name) {
                participants.push({ name, gender, formats });
                // æ–°å¢ï¼šæ¯æ¬¡è¯»å–æ—¶ï¼Œå°è¯•å°†è¯¥é€‰æ‰‹ä¿å­˜ä¸ºé¢„è®¾
                saveParticipant(name, gender); 
            }
        });
        return participants;
    }

    function createParticipantRow(name = '', gender = 'male') {
        const list = document.getElementById('participants-list');
        const newRow = document.createElement('div');
        newRow.className = 'participant-row';
        newRow.setAttribute('data-id', participantIdCounter++);

        newRow.innerHTML = `
            <input type="text" class="name-input" placeholder="å§“å" value="${name}">
            <select class="gender-select">
                <option value="male" ${gender === 'male' ? 'selected' : ''}>ç”·</option>
                <option value="female" ${gender === 'female' ? 'selected' : ''}>å¥³</option>
            </select>
            <button onclick="removeParticipant(this)">åˆ é™¤</button>
        `;
        list.appendChild(newRow);
    }
    
    function addParticipant() {
        createParticipantRow(); // æ·»åŠ ä¸€ä¸ªç©ºç™½è¡Œ
    }
    
    function addParticipantFromPreset(name, gender) {
        // æ£€æŸ¥å½“å‰åˆ—è¡¨ä¸­æ˜¯å¦å·²å­˜åœ¨è¯¥é€‰æ‰‹ï¼Œé¿å…é‡å¤æ·»åŠ 
        const currentParticipants = getParticipantsData().map(p => p.name);
        if (currentParticipants.includes(name)) {
            alert(`é€‰æ‰‹ "${name}" å·²åœ¨å½“å‰å‚èµ›åˆ—è¡¨ä¸­ã€‚`);
            return;
        }
        createParticipantRow(name, gender);
    }

    function removeParticipant(button) {
        const row = button.closest('.participant-row');
        row.remove();
    }

    function initializeParticipantList() {
        // åˆå§‹åŒ–æ—¶åŠ è½½ä¸¤ä¸ªç©ºç™½è¡Œä½œä¸ºé»˜è®¤è¾“å…¥
        createParticipantRow('é»„è±†è±†', 'female');
        createParticipantRow('å¤§å¤´å…µ', 'male');
    }

    // --- åˆ†ç»„å’Œæ¯”èµ›é€»è¾‘ (ä¿æŒä¸å˜) ---

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    function getRandomTeamName() {
        const index = Math.floor(Math.random() * TEAM_NAMES.length);
        return TEAM_NAMES[index];
    }
    
    function drawTeams() {
        const participants = getParticipantsData();
        const statusEl = document.getElementById('draw-status');
        const resultsEl = document.getElementById('team-results');
        
        statusEl.textContent = '';
        resultsEl.innerHTML = '';
        allTeams = { 'MD': [], 'WD': [], 'XD': [] };

        if (participants.length < 2) {
            resultsEl.innerHTML = '<p style="color: #6c757d;">è¯·åœ¨å·¦ä¾§è¾“å…¥å‚èµ›é€‰æ‰‹ä¿¡æ¯åï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®è¿›è¡Œéšæœºåˆ†ç»„ã€‚</p>';
            statusEl.textContent = 'â— è‡³å°‘éœ€è¦2ä½å‚èµ›é€‰æ‰‹æ‰èƒ½å°è¯•ç»„é˜Ÿã€‚';
            return;
        }

        const malePool = participants.filter(p => p.gender === 'male');
        const femalePool = participants.filter(p => p.gender === 'female');
        
        const maleMD_Pool = [...malePool];
        const femaleWD_Pool = [...femalePool];
        const maleXD_Pool = [...malePool];
        const femaleXD_Pool = [...femalePool];

        function createDoubles(pool, format) {
            shuffleArray(pool); 
            const teams = [];
            while (pool.length >= 2) {
                const player1 = pool.pop();
                const player2 = pool.pop();
                teams.push({
                    name: getRandomTeamName() + ` (${FORMAT_NAMES[format]})`, 
                    members: [player1.name, player2.name]
                });
            }
            return teams;
        }

        function createMixedDoubles(malePool, femalePool) {
            shuffleArray(malePool);
            shuffleArray(femalePool);
            const teams = [];
            const numTeams = Math.min(malePool.length, femalePool.length);

            for (let i = 0; i < numTeams; i++) {
                const malePlayer = malePool.pop();
                const femalePlayer = femalePool.pop();
                teams.push({
                    name: getRandomTeamName() + ` (${FORMAT_NAMES['XD']})`,
                    members: [malePlayer.name, femalePlayer.name]
                });
            }
            return teams;
        }

        let hasEnoughTeams = false;

        // ç”·åŒ
        if (maleMD_Pool.length >= 2) {
            allTeams['MD'] = createDoubles(maleMD_Pool, 'MD');
            if (allTeams['MD'].length >= 2) hasEnoughTeams = true;

            if (maleMD_Pool.length === 1) {
                 statusEl.textContent += 'âš ï¸ ç”·åŒäººæ•°ä¸ºå•æ•°ï¼Œæœ‰1äººè½®ç©ºã€‚\n';
            } else if (allTeams['MD'].length < 2) {
                statusEl.textContent += 'âš ï¸ ç”·åŒï¼ˆç”·åŒï¼‰é˜Ÿä¼æ•°é‡ä¸è¶³2é˜Ÿã€‚\n';
            }
        }

        // å¥³åŒ
        if (femaleWD_Pool.length >= 2) {
            allTeams['WD'] = createDoubles(femaleWD_Pool, 'WD');
            if (allTeams['WD'].length >= 2) hasEnoughTeams = true;

            if (femaleWD_Pool.length === 1) {
                 statusEl.textContent += 'âš ï¸ å¥³åŒäººæ•°ä¸ºå•æ•°ï¼Œæœ‰1äººè½®ç©ºã€‚\n';
            } else if (allTeams['WD'].length < 2) {
                statusEl.textContent += 'âš ï¸ å¥³åŒï¼ˆå¥³åŒï¼‰é˜Ÿä¼æ•°é‡ä¸è¶³2é˜Ÿã€‚\n';
            }
        }
        
        // æ··åŒ
        if (maleXD_Pool.length >= 1 && femaleXD_Pool.length >= 1) {
            allTeams['XD'] = createMixedDoubles(maleXD_Pool, femaleXD_Pool);
            if (allTeams['XD'].length >= 2) hasEnoughTeams = true;
                
            let remainingMale = maleXD_Pool.length;
            let remainingFemale = femaleXD_Pool.length;
            if (remainingMale > 0 || remainingFemale > 0) {
                 statusEl.textContent += `âš ï¸ æ··åŒæœ‰${remainingMale > 0 ? remainingMale + 'ç”·é€‰æ‰‹' : ''}${remainingFemale > 0 ? remainingFemale + 'å¥³é€‰æ‰‹' : ''}å› äººæ•°ä¸å¹³è¡¡è½®ç©ºã€‚\n`;
            }
            if (allTeams['XD'].length < 2 && malePool.length >= 2 && femalePool.length >= 2) {
                statusEl.textContent += 'âš ï¸ æ··åŒé˜Ÿä¼æ•°é‡ä¸è¶³2é˜Ÿã€‚\n';
            }
        }

        // 4. æ˜¾ç¤ºç»“æœ
        let html = '';
        for (const format in allTeams) {
            if (allTeams[format].length > 0) {
                const formatName = FORMAT_NAMES[format] || format;
                html += `<h4>${formatName} èµ›åˆ¶ (${allTeams[format].length} æ”¯é˜Ÿä¼)</h4>`;
                html += '<ul class="team-list">';
                allTeams[format].forEach(team => {
                    html += `<li class="team-item"><strong>${team.name}</strong>ï¼š${team.members.join(' & ')}</li>`;
                });
                html += '</ul>';
            }
        }
        
        if (!html) {
             statusEl.textContent = 'â— äººæ•°ä¸è¶³æˆ–æ€§åˆ«ä¸å¹³è¡¡ï¼Œæ— æ³•ç»„æˆä»»ä½•é˜Ÿä¼ã€‚';
        } else {
            resultsEl.innerHTML = html;
        }
        
        document.getElementById('fixture-results').innerHTML = '<p style="color: #6c757d;">é˜Ÿä¼éšæœºåˆ†ç»„å®Œæˆåï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ç”Ÿæˆæ¯”èµ›é¡ºåºã€‚</p>';
        document.getElementById('fixture-status').textContent = '';
    }

    function generateFixtures() {
        const statusEl = document.getElementById('fixture-status');
        const resultsEl = document.getElementById('fixture-results');
        resultsEl.innerHTML = '';
        statusEl.textContent = '';
        
        if (Object.keys(allTeams).length === 0 || Object.values(allTeams).every(arr => arr.length === 0)) {
            resultsEl.innerHTML = '<p style="color: #6c757d;">é˜Ÿä¼éšæœºåˆ†ç»„å®Œæˆåï¼Œç‚¹å‡»ä¸Šæ–¹æŒ‰é’®ç”Ÿæˆæ¯”èµ›é¡ºåºã€‚</p>';
            statusEl.textContent = 'â— è¯·å…ˆç‚¹å‡»â€œéšæœºåˆ†ç»„â€ç”Ÿæˆé˜Ÿä¼ã€‚';
            return;
        }

        let html = '';
        let totalFixtureCount = 0;

        for (const format in allTeams) {
            const teams = allTeams[format];
            if (teams.length >= 2) {
                const fixtures = [];
                const shuffledTeams = [...teams];
                shuffleArray(shuffledTeams);

                for (let i = 0; i < shuffledTeams.length; i++) {
                    for (let j = i + 1; j < shuffledTeams.length; j++) {
                        fixtures.push([shuffledTeams[i].name, shuffledTeams[j].name]);
                    }
                }
                
                shuffleArray(fixtures);
                
                const formatName = FORMAT_NAMES[format] || format;
                html += `<h4>âš”ï¸ ${formatName} èµ›åˆ¶ æ¯”èµ›é¡ºåº (${fixtures.length} åœº)</h4>`;
                let fixtureHtml = '<ol>';
                fixtures.forEach((pair, index) => {
                    totalFixtureCount++;
                    fixtureHtml += `<li class="fixture-item"><span>ç¬¬ ${index + 1} åœº</span><span><strong>${pair[0].split('(')[0].trim()}</strong> VS <strong>${pair[1].split('(')[0].trim()}</strong></span></li>`;
                });
                fixtureHtml += '</ol>';
                html += fixtureHtml;
            } else if (teams.length > 0) {
                const formatName = FORMAT_NAMES[format] || format;
                html += `<h4>âš”ï¸ ${formatName} èµ›åˆ¶</h4><p style="color: red;">é˜Ÿä¼æ•°é‡ä¸è¶³2æ”¯ï¼Œæ— æ³•ç”Ÿæˆæ¯”èµ›å¯¹é˜µã€‚</p>`;
            }
        }
        
        if (totalFixtureCount > 0) {
            resultsEl.innerHTML = html;
        } else {
            statusEl.textContent = 'â— æ‰€æœ‰èµ›åˆ¶é˜Ÿä¼æ•°é‡å‡ä¸è¶³2æ”¯ï¼Œæ— æ³•ç”Ÿæˆå¯¹é˜µã€‚';
        }
    }
    
    // é¡µé¢åŠ è½½æ—¶åˆå§‹åŒ–
    window.onload = function() {
        loadSavedParticipantsUI(); // å…ˆåŠ è½½é¢„è®¾åˆ—è¡¨
        initializeParticipantList(); // å†åŠ è½½é»˜è®¤å‚èµ›åˆ—è¡¨
    };
</script>
</body>
</html>
